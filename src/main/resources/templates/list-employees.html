<html xmlns="http://www.thymeleaf.org">
    <head>
        <title>List Employees</title>
        <link href="https://cdn.datatables.net/v/bs5/jq-3.7.0/dt-2.0.8/datatables.min.css" rel="stylesheet">
        <link 
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
            rel="stylesheet" 
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
            crossorigin="anonymous"
        >
    </head>
    <body>
        <div class="container w-100" style="overflow-y: scroll;">
            <div>
                <div class="mt-4">
                    <div class="mt-1 mb-4 text-center" style="border-bottom: 2px solid;">
                        <h1>List Employees</h1>
                    </div>
                    <div>
                        <a th:href="@{/addEmployeeForm}" class="btn btn-success mb-3">Add Employee</a>
                    </div>
                </div>
                <table class="table table-bordered table-striped" id="employee-table">
                    <thead style="height: 10rem;">
                        <tr>
                            <th><h4>Name</h4></th>
                            <th><h4>Email</h4></th>
                            <th><h4>Department</h4></th>
                            <th><h4>Actions</h4></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="employee: ${employees}" style="height: 10rem;">
                            <td th:text="${employee.name}"></td>
                            <td th:text="${employee.email}"></td>
                            <td th:text="${employee.department}"></td>
                            <td>
                                <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                                    <a 
                                        th:href="@{/showUpdateForm(employeeId=${employee.id})}" 
                                        class="btn btn-info me-md-2"
                                    >
                                        Update
                                    </a>
                                    <a 
                                        th:href="@{/deleteEmployee(employeeId=${employee.id})}" 
                                        class="btn btn-danger"
                                    >
                                        Delete
                                    </a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/v/bs5/jq-3.7.0/dt-2.0.8/datatables.min.js"></script>
        <script>
            $(document).ready(function() {
                $("#employee-table").DataTable({
                    'aoColumnDefs': [{
                        'bSortable': false,
                        'aTargets': [-1]
                    }]
                });
            })
        </script>
    </body>
</html>